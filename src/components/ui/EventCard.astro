---
interface Props {
  title: string;
  image: string;
  slug?: string;
  location?: string;
}

const {
  title,
  image,
  slug,
  location
} = Astro.props;

const href = slug ? `/eventi/${slug}` : '#';
---

<article class="event-card">
  <a href={href} class="event-link">
    <div class="event-image-wrapper">
      <img
        src={image}
        alt={title}
        class="event-image"
      />
    </div>

    <div class="event-content">
      <h3 class="event-title">{title}</h3>
      {location && (
        <span class="event-location">{location}</span>
      )}
    </div>
  </a>
</article>

<style>
  .event-card {
    background: var(--color-white);
    width: 100%;
    min-width: 0;
  }

  .event-link {
    display: block;
    text-decoration: none;
    color: inherit;
  }

  .event-link:hover {
    opacity: 1;
  }

  .event-link:hover .event-image {
    transform: scale(1.02);
  }

  .event-link:hover .event-title {
    color: var(--color-accent);
  }

  .event-image-wrapper {
    position: relative;
    width: 100%;
    aspect-ratio: 4/3;
    overflow: hidden;
    margin-bottom: var(--space-md);
    border-radius: var(--radius-md);
  }

  .event-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.4s ease;
    border-radius: var(--radius-md);
  }

  .event-content {
    padding: 0;
  }

  .event-title {
    font-size: var(--text-3xl);
    font-weight: 700;
    margin: 0 0 var(--space-sm) 0;
    line-height: var(--leading-tight);
    transition: color 0.2s ease;
  }

  .event-location {
    font-size: var(--text-xl);
    color: var(--color-gray);
  }

  @media (max-width: 768px) {
    .event-image-wrapper {
      aspect-ratio: 16/10;
      margin-bottom: var(--space-sm);
    }

    .event-title {
      font-size: var(--text-2xl);
    }

    .event-location {
      font-size: var(--text-lg);
    }
  }
</style>
